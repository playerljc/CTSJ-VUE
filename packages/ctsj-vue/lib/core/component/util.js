"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.inject=exports.isComponentInstance=exports.getComponentConfig=exports.createComponent=exports.isComponentNodeByComponent=exports.isComponentNodeByVue=void 0;var vue_util_1=require("@ctsj/vue-util"),register_1=require("./register"),util_1=require("../util"),util_2=require("../../shared/util"),index_1=__importDefault(require("./index"));function isComponentNodeByVue(e){if(!vue_util_1.isElementNode(e))return!1;e=e.tagName;return register_1.existsComponentByGlobal(e.toLowerCase())}function isComponentNodeByComponent(e,t){if(!vue_util_1.isElementNode(e))return!1;e=e.tagName;return register_1.existsComponentByComponent(e.toLowerCase(),t)||register_1.existsComponentByGlobal(e.toLowerCase())}function createComponent(e){var t=e.attrs,n=e.events,o=e.parentContext,r=e.parent,i=e.root,s=e.el,u=e.key,a=e.route,e=e.$route;return new index_1.default({attrs:t,events:n,parentContext:o},{key:u,el:s,root:i,parent:r,route:a,$route:e})}function getComponentConfig(e,t){if(util_1.isVueInstance(e))return register_1.getConfig(t);if(isComponentInstance(e)){e=e.$getComponentsConfig();return e[t]?e[t]:register_1.getConfig(t)}return null}function isComponentInstance(e){return vue_util_1.isObject(e)&&e instanceof index_1.default}function findProviderHasMethodInsByName(e){for(var t=this.$parent;t;){if("provider"in t.$config&&vue_util_1.isFunction(t.$config.provider)){var n=t.$config.provider.call(t);if(e in n&&vue_util_1.isFunction(n[e]))break}t=t.$parent}return t}function inject(){var o=this;if(!("inject"in this.$config&&vue_util_1.isArray(this.$config.inject)))return!1;var e=this.$config.inject;return(void 0===e?[]:e).forEach(function(e){var t,n=findProviderHasMethodInsByName.call(o,e);n&&(t=n.$config.provider.call(n),o[e]=function(){return util_2.createExecutionContext.call(n,n,function(){return t[e].apply(n.$dataProxy,Array.from(arguments))})})}),!0}exports.isComponentNodeByVue=isComponentNodeByVue,exports.isComponentNodeByComponent=isComponentNodeByComponent,exports.createComponent=createComponent,exports.getComponentConfig=getComponentConfig,exports.isComponentInstance=isComponentInstance,exports.inject=inject;
//# sourceMappingURL=util.js.map
