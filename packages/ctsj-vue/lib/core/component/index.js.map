{"version":3,"file":"index.js","sources":["core/component/index.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar vue_util_1 = require(\"@ctsj/vue-util\");\r\nvar regexp_1 = require(\"../../shared/regexp\");\r\nvar on_1 = require(\"../../compiler/directives/on\");\r\nvar renderComponent_1 = require(\"../../compiler/renderComponent\");\r\nvar proxy_1 = require(\"../proxy\");\r\nvar util_1 = require(\"../../shared/util\");\r\nvar util_2 = require(\"./util\");\r\nvar merge_1 = require(\"../merge\");\r\nvar util_3 = require(\"../util\");\r\nvar index_1 = require(\"../index\");\r\nvar constants_1 = require(\"../../shared/constants\");\r\nvar proxyDirtyStack_1 = __importDefault(require(\"../../compiler/proxyDirtyStack\"));\r\n/**\r\n * getPropsAndAttrs - 获取argConfig中的props和attrs\r\n * @return Object\r\n */\r\nfunction getPropsAndAttrs() {\r\n    // 传递进来的 attrs是k/v形式\r\n    var attrs = this.$argConfig.attrs;\r\n    // 配置定义的\r\n    var props = vue_util_1.cloneDeep(this.$config.props) || [];\r\n    var prop = {};\r\n    var attr = {};\r\n    // props必须是object或者array\r\n    if (vue_util_1.isObject(props) || vue_util_1.isArray(props)) {\r\n        // 如果props是对象则props是keys的集合\r\n        if (vue_util_1.isObject(props)) {\r\n            props = Object.keys(props);\r\n        }\r\n        var model = this.$config.model;\r\n        // 如果用户设置了model选项，且组件设置了v-model\r\n        if (model && 'value' in attrs) {\r\n            if (!props.includes(model.prop)) {\r\n                props.push(model.prop);\r\n                attrs[model.prop] = attrs.value;\r\n                delete attrs.value;\r\n            }\r\n        }\r\n        else if ('value' in attrs && !props.includes('value')) {\r\n            props.push('value');\r\n        }\r\n    }\r\n    // 迭代传递进来的attrs\r\n    Object.keys(attrs).forEach(function (key) {\r\n        // 在props中寻找key是否存在\r\n        // 因为在props中定义的是驼峰形式，而在组件标签中定义的是xxx-xxx-xxx形式，所以prop要转换成驼峰形式\r\n        var index = props.findIndex(function (p) { return util_1.pascalCaseToKebabCase(p) === key; });\r\n        if (index !== -1) {\r\n            prop[props[index]] = attrs[key];\r\n        }\r\n        else {\r\n            attr[key] = attrs[key];\r\n        }\r\n    });\r\n    return {\r\n        props: prop,\r\n        attrs: attr,\r\n    };\r\n}\r\n/**\r\n * createEmit - 创建$emit对象\r\n * @return Function\r\n */\r\n// TODO:$emit的事件处理函数\r\nfunction createEmit() {\r\n    var self = this;\r\n    // <my-component v-on:abc=\"xxxxxx\"></my-component>\r\n    /**\r\n     * $emit执行\r\n     * @param eventName string - 事件名称\r\n     * @param argv Array - 事件的参数\r\n     */\r\n    return function (eventName) {\r\n        var events = self.$argConfig.events;\r\n        var argv = [];\r\n        for (var i = 0; i < arguments.length; i++) {\r\n            // arguments.length\r\n            if (i === 0 && eventName)\r\n                continue;\r\n            argv.push(arguments[i]);\r\n        }\r\n        var eventNameFormat = eventName.toLowerCase();\r\n        if (!(eventNameFormat in events))\r\n            return false;\r\n        on_1.executeExecutionContextVOn.call(self.$parent, {\r\n            context: {},\r\n            entry: {\r\n                expression: events[eventNameFormat],\r\n            },\r\n            argv: argv,\r\n        });\r\n    };\r\n}\r\n/**\r\n * Component\r\n * @class Component\r\n * @classdesc 组件\r\n */\r\nvar Component = /** @class */ (function () {\r\n    /**\r\n     * constructor\r\n     * @param config {\r\n     *   attrs: Object - 外层标签所有的属性\r\n     *   events: Object - 外层v-on的值\r\n     *   parentContext: Object - 父亲的上下文对象\r\n     * }\r\n     * @param key - 组件的key\r\n     * @param el - 组件的el元素\r\n     * @param root - vue实例\r\n     * @param parent - 父对象(可能是Vue实例，也肯能是Component实例)\r\n     * @param route - 匹配的路由配置\r\n     * @param $route - 当前路由信息\r\n     */\r\n    function Component(config, _a) {\r\n        var key = _a.key, el = _a.el, root = _a.root, parent = _a.parent, route = _a.route, $route = _a.$route;\r\n        this.$el = el;\r\n        // Vue实例对象\r\n        this.$root = root;\r\n        // 父对象\r\n        this.$parent = parent;\r\n        // 标签中的key属性值\r\n        this.$key = key;\r\n        // 路由对象的引用\r\n        this.$router = this.$root.$router;\r\n        // 匹配的路由的信息\r\n        this.$matchRoute = route;\r\n        // 当前路由信息\r\n        this.$route = $route;\r\n        // 组件的配置对象\r\n        this.$config = this.$getConfig();\r\n        // proxy的脏数据栈\r\n        this.$proxyDirtyStack = new proxyDirtyStack_1.default();\r\n        // 构造函数的配置\r\n        this.$argConfig = config;\r\n        // 创建组件的$emit实例\r\n        this.$emit = createEmit.call(this);\r\n        // 存放所有ref的数据\r\n        this.$refs = {};\r\n        // 获取父亲传递过来的props和attrs\r\n        var _b = getPropsAndAttrs.call(this), props = _b.props, attrs = _b.attrs;\r\n        this.$attes = attrs;\r\n        this.$props = vue_util_1.cloneDeep(props);\r\n        // 创建props的代理\r\n        this.$propsProxy = proxy_1.createPropsProxy.call(this, this.$props);\r\n        // 没有被代理的props + data的合体\r\n        this.$noProxySrcData = __assign(__assign({}, this.$props), vue_util_1.cloneDeep(vue_util_1.isFunction(this.$config.data) ? this.$config.data() : {}));\r\n        // data混入\r\n        merge_1.mergeData.call(this);\r\n        // computed混入\r\n        merge_1.mergeComputed.call(this);\r\n        // beforeCreate\r\n        util_3.triggerLifecycle.call(this, constants_1.LIFECYCLE_HOOKS[0]);\r\n        // dataObserver\r\n        this.$dataProxy = proxy_1.createComponentProxy.call(this, this);\r\n        // mergeProps\r\n        merge_1.mergeProps.call(this, this.$props);\r\n        // methods混入\r\n        merge_1.mergeMethods.call(this);\r\n        // inject\r\n        util_2.inject.call(this);\r\n        // 组件路由钩子混入\r\n        merge_1.mergeRouterHooks.call(this);\r\n        // 创建template的el对象\r\n        this.templateEl = vue_util_1.createElement(this.$config.template);\r\n        // 存放组件实例的Map\r\n        this.componentsMap = new Map();\r\n    }\r\n    /**\r\n     * $assignClassAndStyle - 混入class和style\r\n     * @param VNode\r\n     */\r\n    Component.prototype.$assignClassAndStyle = function (VNode) {\r\n        var attrs = this.$argConfig.attrs;\r\n        if (attrs.class) {\r\n            if (vue_util_1.isObject(attrs.class)) {\r\n                Object.assign(VNode.data.class, attrs.class);\r\n            }\r\n            else if (vue_util_1.isString(attrs.class)) {\r\n                var classNames = attrs.class.trim().split(regexp_1.CLASSNAME_SPLIT);\r\n                classNames.forEach(function (className) {\r\n                    VNode.data.class[className] = true;\r\n                });\r\n            }\r\n        }\r\n        if (attrs.style) {\r\n            if (vue_util_1.isObject(attrs.style)) {\r\n                Object.assign(VNode.data.style, attrs.style);\r\n            }\r\n            else if (vue_util_1.isString(attrs.style)) {\r\n                attrs.style\r\n                    .split(regexp_1.STYLE_RULE_SPLIT)\r\n                    .filter(function (t) { return t; })\r\n                    .forEach(function (style) {\r\n                    var entry = style.split(regexp_1.STYLE_RULE_ENTRY_SPLIT).filter(function (t) { return t; });\r\n                    VNode.data.style[entry[0]] = entry[1];\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * $setParams\r\n     * @param config\r\n     */\r\n    Component.prototype.$setParams = function (config) {\r\n        this.$argConfig = config;\r\n    };\r\n    /**\r\n     * $getConfig- 获取组件配置\r\n     * @return Object\r\n     */\r\n    Component.prototype.$getConfig = function () {\r\n        var config = util_2.getComponentConfig(this.$parent, this.$el.tagName.toLowerCase());\r\n        // 这块需要判断是否进行mixin\r\n        return util_3.mixinConfig({\r\n            globalConfig: index_1.getGlobalConfig(),\r\n            mixins: config.mixins || [],\r\n            config: config,\r\n        });\r\n    };\r\n    /**\r\n     * $getComponentsConfig - 获取组件components的配置\r\n     * @return Object\r\n     */\r\n    Component.prototype.$getComponentsConfig = function () {\r\n        var config = this.$getConfig();\r\n        if (!config || !('components' in config) || !config.components)\r\n            return {};\r\n        var components = {};\r\n        Object.keys(config.components).forEach(function (key) {\r\n            // 这块和Vue.register一样\r\n            // xxx-xxx-xxx\r\n            if (util_1.isKebabCase(key)) {\r\n                components[key.toLowerCase()] = config.components[key];\r\n            }\r\n            // AbcDefGhi\r\n            else if (util_1.isPascalCase(key)) {\r\n                components[key.toLowerCase()] = config.components[key];\r\n                components[util_1.pascalCaseToKebabCase(key)] = config.components[key];\r\n            }\r\n        });\r\n        return components;\r\n    };\r\n    /**\r\n     * $getParentContext - 获取父亲的上下文对象\r\n     * @return Object\r\n     */\r\n    Component.prototype.$getParentContext = function () {\r\n        return this.$argConfig.parentContext;\r\n    };\r\n    /**\r\n     * $createAsyncExecContext - 创建一个异步的执行上下文\r\n     * @param callBack - Function 回调的函数\r\n     * @return Function\r\n     */\r\n    Component.prototype.$createAsyncExecContext = function (callBack) {\r\n        var self = this;\r\n        return function () {\r\n            util_1.createExecutionContext.call(self, self, callBack);\r\n        };\r\n    };\r\n    /**\r\n     * $render - 编译这个Component返回这个Component的VNode\r\n     * @return {VNode}\r\n     */\r\n    Component.prototype.$render = function () {\r\n        // 渲染\r\n        // beforeMount\r\n        // render\r\n        // mount\r\n        // 渲染\r\n        var VNode = renderComponent_1.renderComponent.call(this);\r\n        // class和style的处理\r\n        this.$assignClassAndStyle(VNode);\r\n        VNode.key = this.$key;\r\n        return VNode;\r\n    };\r\n    /**\r\n     * $update - 更新这个Component返回这个Component的VNode\r\n     * 更新分为2中\r\n     *  1.父容器更新导致组件的更新(props)\r\n     *    父容器的更新需要调用update方法只返回VNode即可\r\n     *  2.组件内部的更新(data)\r\n     *    组件内部的更新需要调用$root的refresh来执行虚拟Dom的path操作\r\n     * @return {VNode}\r\n     */\r\n    Component.prototype.$update = function () {\r\n        var _this = this;\r\n        // 父容器更新\r\n        var _a = getPropsAndAttrs.call(this), props = _a.props, attrs = _a.attrs;\r\n        this.$attes = attrs;\r\n        // 之前props的keys\r\n        var prePropsKeys = Object.keys(this.$props);\r\n        // 新的props\r\n        this.$props = vue_util_1.cloneDeep(props);\r\n        // 先触发watch\r\n        Object.assign(this.$propsProxy, this.$props);\r\n        // 之前props的keys\r\n        prePropsKeys.forEach(function (key) {\r\n            if (key in _this.$noProxySrcData) {\r\n                delete _this.$noProxySrcData[key];\r\n            }\r\n            if (key in _this) {\r\n                delete _this[key];\r\n            }\r\n        });\r\n        Object.assign(this.$noProxySrcData, this.$props);\r\n        // 把之前的props删除，混入现在的props\r\n        merge_1.mergeProps.call(this, this.$props);\r\n        this.$propsProxy = proxy_1.createPropsProxy.call(this, this.$props);\r\n        // 在这个地方进行watch操作\r\n        // 修改被代理对象的props，而不是修改$dataProxy对象，这样不会触发set\r\n        // 这样写就不能进行watch操作\r\n        // mergeMethods.call(this);\r\n        // 重新计算计算属性，因为计算属性中可能用了this.props中的值\r\n        util_3.resetComputed.call(this);\r\n        // 进行render\r\n        var VNode = renderComponent_1.renderComponent.call(this);\r\n        // class和style的处理\r\n        this.$assignClassAndStyle(VNode);\r\n        VNode.key = this.$key;\r\n        return VNode;\r\n    };\r\n    return Component;\r\n}());\r\nexports.default = Component;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","default","defineProperty","exports","value","vue_util_1","require","regexp_1","on_1","renderComponent_1","proxy_1","util_1","util_2","merge_1","util_3","index_1","constants_1","proxyDirtyStack_1","getPropsAndAttrs","model","attrs","$argConfig","props","cloneDeep","$config","prop","attr","isObject","isArray","keys","includes","push","forEach","key","index","findIndex","pascalCaseToKebabCase","createEmit","self","eventName","events","argv","eventNameFormat","toLowerCase","executeExecutionContextVOn","$parent","context","entry","expression","Component","config","_a","el","root","parent","route","$route","$el","$root","$key","$router","$matchRoute","$getConfig","$proxyDirtyStack","$emit","$refs","_b","$attes","$props","$propsProxy","createPropsProxy","$noProxySrcData","isFunction","data","mergeData","mergeComputed","triggerLifecycle","LIFECYCLE_HOOKS","$dataProxy","createComponentProxy","mergeProps","mergeMethods","inject","mergeRouterHooks","templateEl","createElement","template","componentsMap","Map","$assignClassAndStyle","VNode","class","isString","trim","split","CLASSNAME_SPLIT","className","style","STYLE_RULE_SPLIT","filter","STYLE_RULE_ENTRY_SPLIT","$setParams","getComponentConfig","tagName","mixinConfig","globalConfig","getGlobalConfig","mixins","$getComponentsConfig","components","isKebabCase","isPascalCase","$getParentContext","parentContext","$createAsyncExecContext","callBack","createExecutionContext","$render","renderComponent","$update","_this","prePropsKeys","resetComputed"],"mappings":"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"}