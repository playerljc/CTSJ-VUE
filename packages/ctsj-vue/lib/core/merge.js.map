{"version":3,"file":"merge.js","sources":["core/merge.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.mergeMethods = exports.mergeComputed = exports.mergeData = exports.mergeProps = void 0;\r\nvar util_1 = require(\"../shared/util\");\r\n/**\r\n * mergeProps - 混入props到this中\r\n * @param props - Object 需要混入到this中的props对象\r\n */\r\nfunction mergeProps(props) {\r\n    var properties = {};\r\n    // 迭代props对象\r\n    Object.keys(props).forEach(function (key) {\r\n        properties[key] = {\r\n            value: props[key],\r\n            // 不能对props的属性进行赋值\r\n            writable: false,\r\n            // 可以删除\r\n            configurable: true,\r\n            // 可以枚举\r\n            enumerable: true,\r\n        };\r\n    });\r\n    // 混入就是为this定义props属性\r\n    Object.defineProperties(this, properties);\r\n}\r\nexports.mergeProps = mergeProps;\r\n/**\r\n * mergeData - 混入data到this中\r\n */\r\nfunction mergeData() {\r\n    util_1.merge(this, util_1.cloneDeep(util_1.isFunction(this.$config.data) ? this.$config.data() : {}));\r\n}\r\nexports.mergeData = mergeData;\r\n/**\r\n * mergeComputed - 混入computed到this中\r\n */\r\nfunction mergeComputed() {\r\n    // 根据computed对象生成computedObj\r\n    var computed = this.$config.computed || {};\r\n    var computedObj = {};\r\n    // 只需要混入computed的key就可以，值暂为null，根据proxy的get生成值\r\n    for (var p in computed) {\r\n        computedObj[p] = null;\r\n    }\r\n    util_1.merge(this, computedObj);\r\n}\r\nexports.mergeComputed = mergeComputed;\r\n/**\r\n * mergeMethods - 混入methods到this中\r\n */\r\nfunction mergeMethods() {\r\n    util_1.merge(this, this.$config.methods || {});\r\n}\r\nexports.mergeMethods = mergeMethods;\r\n"],"names":["Object","defineProperty","exports","value","mergeMethods","mergeComputed","mergeData","mergeProps","util_1","require","props","properties","keys","forEach","key","writable","configurable","enumerable","defineProperties","this","merge","cloneDeep","isFunction","$config","data","p","computedObj","computed","methods"],"mappings":"aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtDD,QAAQE,aAAeF,QAAQG,cAAgBH,QAAQI,UAAYJ,QAAQK,gBAAa,EACxF,IAAIC,OAASC,QAAQ,kBAKrB,SAASF,WAAWG,GAChB,IAAIC,EAAa,GAEjBX,OAAOY,KAAKF,GAAOG,QAAQ,SAAUC,GACjCH,EAAWG,GAAO,CACdX,MAAOO,EAAMI,GAEbC,UAAU,EAEVC,cAAc,EAEdC,YAAY,KAIpBjB,OAAOkB,iBAAiBC,KAAMR,GAMlC,SAASL,YACLE,OAAOY,MAAMD,KAAMX,OAAOa,UAAUb,OAAOc,WAAWH,KAAKI,QAAQC,MAAQL,KAAKI,QAAQC,OAAS,KAMrG,SAASnB,gBAEL,IAGSoB,EAFLC,EAAc,GAElB,IAASD,KAHMN,KAAKI,QAAQI,UAAY,GAIpCD,EAAYD,GAAK,KAErBjB,OAAOY,MAAMD,KAAMO,GAMvB,SAAStB,eACLI,OAAOY,MAAMD,KAAMA,KAAKI,QAAQK,SAAW,IA1B/C1B,QAAQK,WAAaA,WAOrBL,QAAQI,UAAYA,UAcpBJ,QAAQG,cAAgBA,cAOxBH,QAAQE,aAAeA"}