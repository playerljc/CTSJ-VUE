"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderRouterLinkNode=void 0;var src_1=require("@ctsj/vue-util/src"),bind_1=require("./directives/bind"),util_1=require("./directives/util"),for_1=require("./directives/for"),if_1=require("./directives/if"),else_1=require("./directives/else"),else_if_1=require("./directives/else-if"),vdom_1=require("../core/vdom");function renderRouterLinkNode(e){var t,r=this,s=e.context,i=e.el,a=e.parentVNode,l=e.parentElement,e=util_1.getVAttrNames(i);if(e.length){if(for_1.hasVFor(e))return for_1.parseVFor.call(this,{context:s,el:i,parentVNode:a,vAttrNames:e,renderFun:renderRouterLinkNode});if(if_1.hasVIf(e))if(!if_1.parseVIf.call(this,{context:s,el:i,vAttrNames:e}))return null;if(else_1.hasVElse(e)){if(!(t=else_1.parseVElse.call(this,{context:s,el:i,parentElement:l})).valid)return null;if(!t.result)return null}if(else_if_1.hasVElseIf(e)){if(!(t=else_if_1.parseVElseIf.call(this,{context:s,el:i,parentElement:l})).valid)return null;if(!t.result)return null}}var n={};bind_1.hasVBind(e)&&bind_1.getVBindEntrys.call(this,{context:s,el:i,vAttrNames:e}).forEach(function(e){var t=e.arg,e=e.value;n[t]=e}),util_1.getAttrEntrys(i).forEach(function(e){var t=e.name,e=e.value;n[t]=e});var s="tag"in n&&!src_1.isEmpty(n.tag)&&src_1.isString(n.tag)?n.tag:"a",c=vdom_1.createVNode(s);c.children.push(vdom_1.createTextVNode(i.innerText)),"class"in n&&!src_1.isEmpty(n.class)&&(src_1.isObject(n.class)?Object.assign(c.data.class,n.class):src_1.isString(n.class)&&n.class.split(" ").forEach(function(e){c.data.class[e]=!0})),"style"in n&&!src_1.isEmpty(n.style)&&(src_1.isObject(n.style)?Object.assign(c.data.style,n.style):src_1.isString(n.style)&&n.style.split(";").forEach(function(e){e=e.split(":");c.data.style[e[0]]=e[1]}));e=window.location.pathname,s=n.to,i=this.$router.createPath(s),s=i.indexOf("?");return-1!==s&&(i=i.substring(0,s)),i===e&&(e=this.$router.$config,"active-class"in n?n["active-class"]?c.data.class[n["active-class"]]=!0:c.data.class["router-link-active"]=!0:"linkExactActiveClass"in e?e.linkExactActiveClass&&(c.data.class[e.linkExactActiveClass]=!0):c.data.class["router-link-exact-active"]=!0),c.data.on.click=function(){"replace"in n&&n.replace?r.$router.replace(n.to):r.$router.push(n.to)},c}exports.renderRouterLinkNode=renderRouterLinkNode;
//# sourceMappingURL=renderRouterLinkNode.js.map
