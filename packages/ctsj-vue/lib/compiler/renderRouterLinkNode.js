"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderRouterLinkNode=void 0;var vue_util_1=require("@ctsj/vue-util"),renderUtil_1=require("./renderUtil"),regexp_1=require("../shared/regexp"),bind_1=require("./directives/bind"),util_1=require("./directives/util"),for_1=require("./directives/for"),if_1=require("./directives/if"),else_1=require("./directives/else"),else_if_1=require("./directives/else-if"),vdom_1=require("../core/vdom");function renderRouterLinkNode(e){var t=this,r=e.context,i=e.el,l=e.parentVNode,s=e.parentElement;if(vue_util_1.isEmpty(this.$router))return null;e=util_1.getVAttrNames(i);if(e.length){if(for_1.hasVFor(e))return for_1.parseVFor.call(this,{context:r,el:i,parentVNode:l,vAttrNames:e,renderFun:renderRouterLinkNode});if(if_1.hasVIf(e))if(!if_1.parseVIf.call(this,{context:r,el:i,vAttrNames:e}))return null;if(else_1.hasVElse(e)){if(!(u=else_1.parseVElse.call(this,{context:r,el:i,parentElement:s})).valid)return null;if(!u.result)return null}if(else_if_1.hasVElseIf(e)){if(!(u=else_if_1.parseVElseIf.call(this,{context:r,el:i,parentElement:s})).valid)return null;if(!u.result)return null}}var a={};bind_1.hasVBind(e)&&bind_1.getVBindEntrys.call(this,{context:r,el:i,vAttrNames:e}).forEach(function(e){var t=e.arg,e=e.value;a[t]=e}),util_1.getAttrEntrys(i).forEach(function(e){var t=e.name,e=e.value;a[t]=e});var s="tag"in a&&!vue_util_1.isEmpty(a.tag)&&vue_util_1.isString(a.tag)?a.tag:"a",n=vdom_1.createVNode(s);"class"in a&&!vue_util_1.isEmpty(a.class)&&(vue_util_1.isObject(a.class)?Object.assign(n.data.class,a.class):vue_util_1.isString(a.class)&&a.class.trim().split(regexp_1.CLASSNAME_SPLIT).forEach(function(e){n.data.class[e]=!0})),"style"in a&&!vue_util_1.isEmpty(a.style)&&(vue_util_1.isObject(a.style)?Object.assign(n.data.style,a.style):vue_util_1.isString(a.style)&&a.style.split(regexp_1.STYLE_RULE_SPLIT).filter(function(e){return e}).forEach(function(e){e=e.split(regexp_1.STYLE_RULE_ENTRY_SPLIT).filter(function(e){return e});n.data.style[e[0]]=e[1]}));var u=window.location.pathname,e=a.to,s=this.$router.createPath(e),e=s.indexOf("?");-1!==e&&(s=s.substring(0,e)),s===u&&(u=this.$router.$config,"active-class"in a?a["active-class"]?n.data.class[a["active-class"]]=!0:n.data.class["router-link-active"]=!0:"linkExactActiveClass"in u?u.linkExactActiveClass&&(n.data.class[u.linkExactActiveClass]=!0):n.data.class["router-link-exact-active"]=!0),n.data.on.click=function(){"replace"in a&&a.replace?t.$router.replace(a.to):t.$router.push(a.to)};for(var c=0,o=i.childNodes.length;c<o;c++){var _=renderUtil_1.renderLoop.call(this,{context:r,el:i.childNodes[c],parentVNode:n,parentElement:i});_&&(vue_util_1.isArray(_)?_.filter(function(e){return e}).forEach(function(e){n.children.push(e)}):vue_util_1.isObject(_)&&n.children.push(_))}return n}exports.renderRouterLinkNode=renderRouterLinkNode;
//# sourceMappingURL=renderRouterLinkNode.js.map
