"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderLoop=exports.renderAttr=exports.renderVAttr=void 0;var vue_util_1=require("@ctsj/vue-util"),util_1=require("../shared/util"),util_2=require("../core/util"),util_3=require("../core/component/util"),renderComponentNode_1=require("./renderComponentNode"),renderDynamicComponentNode_1=require("./renderDynamicComponentNode"),renderElementNode_1=require("./renderElementNode"),renderSlotNode_1=require("./renderSlotNode"),renderTemplateNode_1=require("./renderTemplateNode"),renderTextNode_1=require("./renderTextNode"),renderRouterLinkNode_1=require("./renderRouterLinkNode"),renderRouterViewNode_1=require("./renderRouterViewNode"),util_4=require("./directives/util"),for_1=require("./directives/for"),if_1=require("./directives/if"),else_1=require("./directives/else"),else_if_1=require("./directives/else-if"),vdom_1=require("../core/vdom"),show_1=require("./directives/show"),bind_1=require("./directives/bind"),constants_1=require("../shared/constants"),model_1=require("./directives/model"),on_1=require("./directives/on"),html_1=require("./directives/html"),regexp_1=require("../shared/regexp");function renderVAttr(e){var t=e.el,r=e.parentVNode,n=e.parentElement,o=e.context,i=e.renderFun,e=util_4.getVAttrNames(t);if(!e.length)return{Continue:!0,VNode:null};if(for_1.hasVFor(e))return{Continue:!1,VNode:r?for_1.parseVFor.call(this,{context:o,el:t,parentVNode:r,vAttrNames:e,renderFun:i}):null};if(if_1.hasVIf(e)&&!if_1.parseVIf.call(this,{context:o,el:t,vAttrNames:e}))return{Continue:!1,VNode:null};if(else_1.hasVElse(e)){if(!(l=else_1.parseVElse.call(this,{context:o,el:t,parentElement:n})).valid)return{Continue:!1,VNode:null};if(!l.result)return{Continue:!1,VNode:null}}if(else_if_1.hasVElseIf(e)){if(!(l=else_if_1.parseVElseIf.call(this,{context:o,el:t,parentElement:n})).valid)return{Continue:!1,VNode:null};if(!l.result)return{Continue:!1,VNode:null}}var n=t.tagName.toLowerCase(),l=vdom_1.createVNode(n);return show_1.hasVShow(e)&&show_1.parseVShow.call(this,{context:o,el:t,vAttrNames:e,VNode:l}),bind_1.hasVBind(e)&&bind_1.parseVBind.call(this,{context:o,el:t,vAttrNames:e,VNode:l}),constants_1.FORM_CONTROL_BINDING_TAG_NAMES.includes(n)&&model_1.hasVModel(e)&&model_1.parseVModel.call(this,{context:o,tagName:n,vProps:l.data.attrs,el:t,vAttrNames:e,VNode:l}),on_1.hasVOn(e)&&on_1.parseVOn.call(this,{context:o,el:t,tagName:n,vAttrNames:e,VNode:l}),!model_1.isFormTag(n)&&html_1.hasVHtml(e)&&html_1.parseVHtml.call(this,{context:o,el:t,vAttrNames:e,VNode:l}),{Continue:!0,VNode:l}}function renderAttr(e){var r=e.el,n=e.VNode,o=this,e=util_4.getAttrNames(r);e.length&&e.forEach(function(e){var t=r.getAttribute(e);"key"===e?n.key=t:"ref"===e?Object.assign(n.data.hook,{insert:function(e){o.$refs[t]=e.elm}}):"style"===e?t.split(regexp_1.STYLE_RULE_SPLIT).filter(function(e){return e}).forEach(function(e){e=e.split(regexp_1.STYLE_RULE_ENTRY_SPLIT).filter(function(e){return e});n.data.style[e[0]]=e[1]}):"class"===e?t.trim().split(regexp_1.CLASSNAME_SPLIT).forEach(function(e){n.data.class[e]=!0}):e.startsWith("data-")?n.data.dataset[util_1.toCamelCase(e.substring("data-".length))]=t:n.data.attrs[e]=t})}function renderLoop(e){var t=e.context,r=e.el,n=e.parentVNode,o=e.parentElement;if(vue_util_1.isTextNode(r))return renderTextNode_1.renderTextNode.call(this,{context:t,el:r});var i=!1,e=util_2.isVueInstance(this);if(e)i=util_3.isComponentNodeByVue(r);else{if(!util_3.isComponentInstance(this))return null;i=util_3.isComponentNodeByComponent(r,this.$getComponentsConfig())}return i?renderComponentNode_1.renderComponentNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):vue_util_1.isTemplateNode(r)?renderTemplateNode_1.renderTemplateNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):!e&&vue_util_1.isSlotNode(r)?renderSlotNode_1.renderSlotNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):vue_util_1.isDynamicComponentNode(r)?renderDynamicComponentNode_1.renderDynamicComponentNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):vue_util_1.isRouterLinkNode(r)?renderRouterLinkNode_1.renderRouterLinkNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):vue_util_1.isRouterViewNode(r)?renderRouterViewNode_1.renderRouterViewNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):vue_util_1.isElementNode(r)?renderElementNode_1.renderElementNode.call(this,{context:t,el:r,parentVNode:n,parentElement:o}):null}exports.renderVAttr=renderVAttr,exports.renderAttr=renderAttr,exports.renderLoop=renderLoop;
//# sourceMappingURL=renderUtil.js.map
