"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderSlotNode=void 0;var vue_util_1=require("@ctsj/vue-util"),util_1=require("./directives/util"),bind_1=require("./directives/bind"),constants_1=require("../shared/constants"),proxy_1=require("../core/proxy"),renderTemplateNode_1=require("./renderTemplateNode");function renderSlotNode(e){var t,r=e.context,n=e.el,o=e.parentVNode,a=(e.parentElement,this.$el.cloneNode(!0)),i="default",l="parent";util_1.hasAttr("name",n)&&(i=util_1.getAttribute.call(this,{context:r,attrName:"name",el:n}));var s=util_1.getVAttrNames(n);bind_1.hasVBind(s)&&(t=bind_1.getVBindEntrys.call(this,{context:r,el:n,vAttrNames:s}));var d,u,e=Array.from(a.getElementsByTagName("template")),s=e.findIndex(function(e){return e.getAttributeNames().some(function(e){return e.startsWith(constants_1.DIRECT_PREFIX+"slot:"+i)})}),c=null;return-1!==s&&(c=e[s]),c||((c=document.createElement("template")).setAttribute(constants_1.DIRECT_PREFIX+"slot:"+i,""),"default"===i?Array.from(a.childNodes).filter(function(e){return!vue_util_1.isElementNode(e)||"template"!==e.tagName.toLowerCase()||!e.getAttributeNames().some(function(e){return e.startsWith(constants_1.DIRECT_PREFIX+"slot:")})}).forEach(function(e){c.content.appendChild(e)}):(l="self",Array.from(n.childNodes).forEach(function(e){c.content.appendChild(e)}))),"parent"===l?(d=proxy_1.createContext(this.$getParentContext()),u=c.getAttribute(constants_1.DIRECT_PREFIX+"slot:"+i),t&&t.length&&u&&(d[u]={},t.forEach(function(e){d[u][e.arg]=e.value}))):d=r,renderTemplateNode_1.renderTemplateNode.call(this.$parent,{context:d,el:c,parentVNode:o,parentElement:a})}exports.renderSlotNode=renderSlotNode;
//# sourceMappingURL=renderSlotNode.js.map
