"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAttributeName=exports.getAttribute=exports.getKey=exports.getAttrEntrys=exports.getDirectiveEntry=exports.getAttrNames=exports.getVAttrNames=exports.getDirectModifiers=exports.getDirectArg=exports.getDirectName=exports.hasAttr=exports.hasVAttr=void 0;var util_1=require("../../shared/util"),constants_1=require("../../shared/constants");function hasVAttr(t,e){return t.some(function(t){return t.startsWith(e)})}function hasAttr(e,t){return t.getAttributeNames().some(function(t){return t.startsWith(constants_1.DIRECT_PREFIX+"bind:"+e)||t===e})}function getDirectName(t){for(var e=-1,r=0;r<constants_1.DIRECT_SYMBOLS.length;r++){var n=constants_1.DIRECT_SYMBOLS[r];if(-1!==(e=t.indexOf(n,constants_1.DIRECT_PREFIX.length)))break}return t.substring(constants_1.DIRECT_PREFIX.length,-1===e?t.length:e)}function getDirectArg(t){var e=t.indexOf(constants_1.DIRECT_SYMBOLS[0]);if(-1===e)return"";var r=t.indexOf(constants_1.DIRECT_SYMBOLS[1],e+1);return t.substring(e+1,-1===r?t.length:r)}function getDirectModifiers(t){var e=t.indexOf(constants_1.DIRECT_SYMBOLS[1]);if(-1===e)return{};var e=t.substring(e).split(constants_1.DIRECT_SYMBOLS[1]).slice(1),r={};return e.forEach(function(t){r[t]=!0}),r}function getVAttrNames(t){return t.getAttributeNames().filter(function(t){return t.startsWith(constants_1.DIRECT_PREFIX)})}function getAttrNames(t){return t.getAttributeNames().filter(function(t){return-1===t.indexOf(constants_1.DIRECT_PREFIX)&&t!==constants_1.GROUP_KEY_NAME})}function getDirectiveEntry(t,e){return{name:getDirectName(e),value:"",expression:t.getAttribute(e),arg:getDirectArg(e),modifiers:getDirectModifiers(e)}}function getAttrEntrys(e){var t=getAttrNames(e);return t.length?t.map(function(t){return{name:t,value:e.getAttribute(t)}}):[]}function getKey(t){var e=t.context,t=t.el;return-1!==t.getAttributeNames().indexOf(constants_1.DIRECT_PREFIX+"bind:key")?util_1.execExpression.call(this,e,t.getAttribute(constants_1.DIRECT_PREFIX+"bind:key")):t.getAttribute("key")?t.getAttribute("key").trim():null}function getAttribute(t){var e=t.context,r=t.attrName,n=t.el,s=n.getAttributeNames(),t=s.findIndex(function(t){return t===constants_1.DIRECT_PREFIX+"bind:"+r});if(-1===t)return n.getAttribute(r);t=n.getAttribute(s[t]).trim();return util_1.execExpression.call(this,e,t)}function getAttributeName(t){var e=t.attrName,r=t.el.getAttributeNames(),t=r.findIndex(function(t){return t===constants_1.DIRECT_PREFIX+"bind:"+e});return-1!==t?r[t]:e}exports.hasVAttr=hasVAttr,exports.hasAttr=hasAttr,exports.getDirectName=getDirectName,exports.getDirectArg=getDirectArg,exports.getDirectModifiers=getDirectModifiers,exports.getVAttrNames=getVAttrNames,exports.getAttrNames=getAttrNames,exports.getDirectiveEntry=getDirectiveEntry,exports.getAttrEntrys=getAttrEntrys,exports.getKey=getKey,exports.getAttribute=getAttribute,exports.getAttributeName=getAttributeName;
//# sourceMappingURL=util.js.map
