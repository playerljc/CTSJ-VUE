{"version":3,"file":"util.js","sources":["util.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getCurRoutePath = exports.wrapPathByBase = void 0;\r\nvar constants_1 = require(\"./constants\");\r\n/**\r\n * wrapPathByBase - 使用base包裹path\r\n * @param base - String 项目的base\r\n * @param path - String 路径\r\n * @return string wrapPath\r\n */\r\nfunction wrapPathByBase(base, path) {\r\n    return (base + \"/\" + path).replace(constants_1.MULIT_SPLIT_REGEX, constants_1.PATH_SPLIT);\r\n}\r\nexports.wrapPathByBase = wrapPathByBase;\r\n/**\r\n * getCurRoutePath - 获取route向上的完整路径\r\n * @param route - Object 当前的路由对象\r\n * @return string\r\n */\r\nfunction getCurRoutePath(route) {\r\n    var result = [];\r\n    var curRoute = route;\r\n    while (curRoute) {\r\n        result.push(curRoute.path);\r\n        // 不是以/结尾在添加/\r\n        if (curRoute.path.lastIndexOf(constants_1.PATH_SPLIT) === -1) {\r\n            result.push(constants_1.PATH_SPLIT);\r\n        }\r\n        curRoute = curRoute.parent;\r\n    }\r\n    if (result.length) {\r\n        // 不是以/开头\r\n        if (result[0].indexOf(constants_1.PATH_SPLIT) === -1) {\r\n            result.unshift(constants_1.PATH_SPLIT);\r\n        }\r\n        // 不是以/结尾\r\n        if (result[result.length - 1].indexOf(constants_1.PATH_SPLIT) === -1) {\r\n            result.push(constants_1.PATH_SPLIT);\r\n        }\r\n    }\r\n    return result.reverse().join('').replace(constants_1.MULIT_SPLIT_REGEX, constants_1.PATH_SPLIT);\r\n}\r\nexports.getCurRoutePath = getCurRoutePath;\r\n"],"names":["Object","defineProperty","exports","value","getCurRoutePath","wrapPathByBase","constants_1","require","base","path","replace","MULIT_SPLIT_REGEX","PATH_SPLIT","route","result","curRoute","push","lastIndexOf","parent","length","indexOf","unshift","reverse","join"],"mappings":"aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtDD,QAAQE,gBAAkBF,QAAQG,oBAAiB,EACnD,IAAIC,YAAcC,QAAQ,eAO1B,SAASF,eAAeG,EAAMC,GAC1B,OAAQD,EAAO,IAAMC,GAAMC,QAAQJ,YAAYK,kBAAmBL,YAAYM,YAQlF,SAASR,gBAAgBS,GAGrB,IAFA,IAAIC,EAAS,GACTC,EAAWF,EACRE,GACHD,EAAOE,KAAKD,EAASN,OAEsC,IAAvDM,EAASN,KAAKQ,YAAYX,YAAYM,aACtCE,EAAOE,KAAKV,YAAYM,YAE5BG,EAAWA,EAASG,OAYxB,OAVIJ,EAAOK,UAE4C,IAA/CL,EAAO,GAAGM,QAAQd,YAAYM,aAC9BE,EAAOO,QAAQf,YAAYM,aAGoC,IAA/DE,EAAOA,EAAOK,OAAS,GAAGC,QAAQd,YAAYM,aAC9CE,EAAOE,KAAKV,YAAYM,aAGzBE,EAAOQ,UAAUC,KAAK,IAAIb,QAAQJ,YAAYK,kBAAmBL,YAAYM,YA3BxFV,QAAQG,eAAiBA,eA6BzBH,QAAQE,gBAAkBA"}